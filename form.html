<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ø³ØªØ·Ù„Ø§Ø¹</title>
    <link rel="stylesheet" href="styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
      .progress-bar {
        width: 100%;
        height: 8px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        margin-bottom: 20px;
        overflow: hidden;
      }
      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #ff6b6b, #ffa500);
        border-radius: 4px;
        transition: width 0.3s ease;
        width: 0%;
      }
    </style>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('survey-form');
        const inputs = document.querySelectorAll('input, textarea');
        const progressFill = document.querySelector('.progress-fill');
        const totalFields = inputs.length;
        
        function updateProgress() {
          let filledFields = 0;
          inputs.forEach(input => {
            if (input.value.trim() !== '') {
              filledFields++;
            }
          });
          const progress = (filledFields / totalFields) * 100;
          progressFill.style.width = progress + '%';
        }
        
        inputs.forEach(input => {
          input.addEventListener('input', updateProgress);
        });
        
        // Form validation and submission
        form.addEventListener('submit', function(e) {
          e.preventDefault(); // Always prevent default submission

          let isValid = true;
          inputs.forEach(input => {
            if (input.hasAttribute('required') && input.value.trim() === '') {
              input.style.borderColor = '#ff6b6b';
              isValid = false;
            } else {
              input.style.borderColor = '#4CAF50';
            }
          });

          if (!isValid) {
            alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
            return;
          }

          // Show loading state
          const submitBtn = document.querySelector('.submit-btn');
          submitBtn.innerHTML = 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
          submitBtn.disabled = true;
          submitBtn.style.opacity = '0.7';

          // Prepare form data
          const formData = new FormData(form);

          fetch('https://formspree.io/f/xwveoolv', {
            method: 'POST',
            body: formData,
            mode: 'no-cors' // This allows cross-origin requests
          })
          .then(() => {
            // Always redirect to thank you page after submission attempt
            window.location.href = 'thankU.html';
          })
          .catch(() => {
            // Even if there's an error, still redirect to thank you page
            window.location.href = 'thankU.html';
          });
        });
      });
    </script>
  </head>

  <body>
    <!-- background -->
     <video autoplay muted loop playsinline id="bg-video">
      <source src="sources/images/Rainy-Night-House-4K.mp4">
     </video>
    <!-- content -->
    <div class="header">
      <h1 class="text" >Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ø³ØªØ·Ù„Ø§Ø¹ÙŠ</h1>
      <p class="subtitle">ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¨Ø¯Ù‚Ø©</p>
    </div>
  
    <form id="survey-form">
      <div class="progress-bar">
        <div class="progress-fill"></div>
      </div>
      <fieldset>

        <h1>ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø®ØµÙŠØ©</h1>

        <div class="input-group">
          <input type="text" name="name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" required />
          <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
        </div>

        <div class="input-group">
          <input type="number" name="age" placeholder="Ù…Ø«Ø§Ù„: 25" min="10" max="100" required />
          <label>Ø§Ù„Ø¹Ù…Ø±</label>
        </div>

        <div class="input-group">
          <input
            type="email"
            name="email"
            placeholder="example@email.com"
            required
          />
          <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
        </div>

        <!-- gender -->
        <div class="gender-section">
          <p>ğŸ­ Ø§Ù„Ø¬Ù†Ø³</p>
          <div class="radio-group">
            <input type="radio" name="gender" value="male" id="male" required />
            <label for="male">Ø°ÙƒØ±</label>

            <input type="radio" name="gender" value="female" id="female" required />
            <label for="female">Ø£Ù†Ø«Ù‰</label>
          </div>
        </div>

        <!-- message -->
        <div class="input-group">
          <textarea name="message" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ø£Ùˆ Ø§Ù‚ØªØ±Ø§Ø­Ø§ØªÙƒ Ù‡Ù†Ø§..." rows="6" required></textarea>
          <label>Ø±Ø³Ø§Ù„ØªÙƒ Ø£Ùˆ Ø§Ù‚ØªØ±Ø§Ø­Ø§ØªÙƒ</label>
        </div>

        <button type="submit" class="submit-btn">ğŸš€ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</button>
    </fieldset>
    </form>
  </body>
</html>
